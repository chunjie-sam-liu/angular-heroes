(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{WuFp:function(t,e,n){"use strict";n.r(e),n.d(e,"PostModule",(function(){return g}));var o=n("ofXK"),i=n("3Pt+"),c=n("tyNb"),s=n("fXoL"),b=n("noRm");function r(t,e){if(1&t&&(s.Ob(0,"div",5),s.Ob(1,"h2"),s.nc(2),s.Nb(),s.Mb(3,"img",6),s.Nb()),2&t){const t=s.Zb();s.Bb(2),s.oc(t.post.title),s.Bb(1),s.dc("src",t.getImage(t.post.covername),s.ic),s.dc("alt",t.post.covername)}}function l(t,e){if(1&t){const t=s.Pb();s.Ob(0,"button",7),s.Wb("click",(function(){return s.hc(t),s.Zb().enableEdit()})),s.nc(1,"Cancel Edit"),s.Nb()}}function d(t,e){if(1&t){const t=s.Pb();s.Ob(0,"button",8),s.Wb("click",(function(){return s.hc(t),s.Zb().enableEdit()})),s.nc(1,"Edit Post"),s.Nb()}}function a(t,e){if(1&t){const t=s.Pb();s.Ob(0,"form",11),s.Wb("ngSubmit",(function(){s.hc(t);const e=s.Zb(2);return e.editPost(e.editForm.value)})),s.Ob(1,"h2"),s.nc(2,"Edit Post."),s.Nb(),s.Ob(3,"p"),s.nc(4,"Edit the form to update the post in the database"),s.Nb(),s.Ob(5,"div",12),s.Ob(6,"label",13),s.nc(7,"Title"),s.Nb(),s.Mb(8,"input",14),s.Nb(),s.Ob(9,"div",12),s.Ob(10,"label",15),s.nc(11,"Content"),s.Nb(),s.Mb(12,"textarea",16),s.Nb(),s.Ob(13,"div",12),s.Ob(14,"label",17),s.nc(15,"Change Cover"),s.Nb(),s.Ob(16,"input",18),s.Wb("change",(function(e){return s.hc(t),s.Zb(2).handleInput(e)})),s.Nb(),s.Nb(),s.Mb(17,"input",19),s.Nb()}if(2&t){const t=s.Zb(2);s.cc("formGroup",t.editForm),s.Bb(17),s.cc("disabled",!t.editForm.valid)}}function u(t,e){1&t&&(s.Ob(0,"div",20),s.Ob(1,"p"),s.nc(2,"Processing request, please stand by, you will be redirected soon..."),s.Nb(),s.Ob(3,"div",21),s.nc(4,"Loading...."),s.Nb(),s.Nb())}function p(t,e){if(1&t&&(s.Ob(0,"div"),s.Ob(1,"p"),s.nc(2,"Edit the current post bellow."),s.Nb(),s.lc(3,a,18,2,"form",9),s.lc(4,u,5,0,"div",10),s.Nb()),2&t){const t=s.Zb();s.Bb(3),s.cc("ngIf",!t.busy),s.Bb(1),s.cc("ngIf",t.busy)}}let f=(()=>{class t{constructor(t,e,n){this.flaskApiService=t,this.route=e,this.router=n,this.currentID=this.route.snapshot.paramMap.get("id"),this.editMode=!1,this.editForm=new i.d({title:new i.b("",i.j.required),content:new i.b("",i.j.required),cover:new i.b("",i.j.required)})}getPostById(){this.postSubscription=this.flaskApiService.getPost(this.currentID).subscribe(t=>{this.post=t.data,console.log(this.post),this.editForm.setValue({title:this.post.title,content:this.post.content,oldcover:this.post.cover,covername:this.post.covername})})}getImage(t){return this.imageURL=this.flaskApiService.getImage(t),this.imageURL}enableEdit(){this.editMode=!this.editMode}deletePost(t){}editPost(t){}handleInput(t){}ngOnInit(){this.getPostById()}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(b.a),s.Lb(c.a),s.Lb(c.b))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-post"]],decls:8,vars:4,consts:[["class","single",4,"ngIf"],["class","cancel",3,"click",4,"ngIf","ngIfElse"],["cancel",""],[4,"ngIf"],[1,"delete",3,"click"],[1,"single"],["width","100",3,"src","alt"],[1,"cancel",3,"click"],[1,"edit",3,"click"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","processing",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"formcontrol"],["for","title"],["type","text","formControlName","title"],["for","content"],["formControlName","content"],["for","cover",1,"cover"],["type","file","name","cover","formControlName","cover","id","cover",3,"change"],["type","submit","value","Submit",3,"disabled"],[1,"processing"],[1,"loader"]],template:function(t,e){if(1&t&&(s.Ob(0,"section"),s.lc(1,r,4,3,"div",0),s.lc(2,l,2,0,"button",1),s.lc(3,d,2,0,"ng-template",null,2,s.mc),s.lc(5,p,5,2,"div",3),s.Ob(6,"button",4),s.Wb("click",(function(){return e.deletePost(e.post.title)})),s.nc(7,"Delete Post"),s.Nb(),s.Nb()),2&t){const t=s.gc(4);s.Bb(1),s.cc("ngIf",e.post),s.Bb(1),s.cc("ngIf",e.editMode)("ngIfElse",t),s.Bb(3),s.cc("ngIf",e.editMode)}},directives:[o.i,i.k,i.h,i.e,i.a,i.g,i.c],styles:[""]}),t})();const m=[{path:"",component:f},{path:":id",component:f}];let h=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[c.d.forChild(m)],c.d]}),t})(),g=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[o.b,i.i,h]]}),t})()}}]);